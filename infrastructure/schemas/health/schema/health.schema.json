{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://wellall.health/schemas/health/v0.1.0",
  "title": "WellAll Health Core",
  "description": "个人健康数据核心 Schema，参考 HL7 FHIR Patient 资源的最小可用字段。",
  "type": "object",
  "required": ["id", "name", "birthDate"],
  "properties": {
    "id": {
      "type": "string",
      "description": "全局唯一 ID（UUID/ULID）。"
    },
    "resourceType": {
      "type": "string",
      "const": "Person",
      "description": "资源类型，固定为 Person。"
    },
    "identifier": {
      "type": "array",
      "description": "外部标识（例如 MRN、国家 ID）。",
      "items": { "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/Identifier" }
    },
    "name": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/HumanName" },
      "description": "姓名，至少包含一个条目。"
    },
    "birthDate": {
      "type": "string",
      "format": "date",
      "description": "出生日期（ISO 8601）。"
    },
    "gender": {
      "type": "string",
      "enum": ["male", "female", "other", "unknown"],
      "description": "性别，沿用 FHIR 枚举。"
    },
    "telecom": {
      "type": "array",
      "items": { "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/ContactPoint" },
      "description": "联系方式（电话/邮箱）。"
    },
    "address": {
      "type": "array",
      "items": { "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/Address" },
      "description": "住址信息。"
    },
    "maritalStatus": {
      "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/CodeableConcept",
      "description": "婚姻状况，可使用 HL7 v3 MaritalStatus 代码。"
    },
    "language": {
      "type": "array",
      "items": { "type": "string" },
      "description": "语言偏好，IETF BCP-47 语言标签。"
    },
    "clinicalSummary": {
      "type": "object",
      "properties": {
        "conditions": {
          "type": "array",
          "items": { "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/CodeableConcept" },
          "description": "已知疾病/诊断，建议使用 SNOMED CT 或 ICD-10。"
        },
        "allergies": {
          "type": "array",
          "items": { "$ref": "https://wellall.health/schemas/common/v0.1.0#/$defs/CodeableConcept" },
          "description": "过敏史。"
        },
        "bloodType": {
          "type": "string",
          "description": "血型，如 A+, O-。"
        },
        "primaryCareProvider": {
          "type": "string",
          "description": "首诊/负责医生或机构 ID。"
        }
      }
    }
  },
  "$defs": {}
}
